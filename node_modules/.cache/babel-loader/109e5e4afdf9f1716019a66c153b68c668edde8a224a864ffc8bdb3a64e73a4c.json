{"ast":null,"code":"import React,{useState,useEffect}from'react';import{database}from'../config/supabase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SuppliersManagement=()=>{const[suppliers,setSuppliers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showAddModal,setShowAddModal]=useState(false);const[showAddIngredientModal,setShowAddIngredientModal]=useState(false);const[selectedSupplierId,setSelectedSupplierId]=useState(null);const[newSupplier,setNewSupplier]=useState({name:'',contact_person:'',email:'',phone:'',address:''});const[newIngredient,setNewIngredient]=useState({ingredient_id:'',price:'',notes:''});const[ingredients,setIngredients]=useState([]);const[expandedSupplier,setExpandedSupplier]=useState(null);const[supplierIngredients,setSupplierIngredients]=useState({});useEffect(()=>{fetchSuppliers();fetchIngredients();},[]);const fetchIngredients=async()=>{try{const result=await database.getIngredients();if(result.success){setIngredients(result.data);}else{console.error('Error fetching ingredients:',result.error);}}catch(err){console.error('Error fetching ingredients:',err);}};const fetchSuppliers=async()=>{try{setLoading(true);const result=await database.getSuppliers();if(result.success){setSuppliers(result.data);setError(null);}else{setError('Error al cargar los proveedores');console.error('Error fetching suppliers:',result.error);}}catch(err){setError('Error al cargar los proveedores');console.error('Error fetching suppliers:',err);}finally{setLoading(false);}};const handleAddSupplier=async e=>{e.preventDefault();try{const result=await database.createSupplier(newSupplier);if(result.success){setShowAddModal(false);setNewSupplier({name:'',contact_person:'',email:'',phone:'',address:''});fetchSuppliers();}else{console.error('Error adding supplier:',result.error);}}catch(err){console.error('Error adding supplier:',err);}};const handleDeleteSupplier=async id=>{if(window.confirm('¿Estás seguro de que deseas eliminar este proveedor?')){try{const result=await database.deleteSupplier(id);if(result.success){fetchSuppliers();}else{console.error('Error deleting supplier:',result.error);}}catch(err){console.error('Error deleting supplier:',err);}}};const handleSupplierClick=async supplierId=>{if(expandedSupplier===supplierId){setExpandedSupplier(null);return;}try{const result=await database.getSupplierIngredients(supplierId);if(result.success){setSupplierIngredients(prev=>({...prev,[supplierId]:result.data}));setExpandedSupplier(supplierId);}else{console.error('Error fetching supplier ingredients:',result.error);}}catch(err){console.error('Error fetching supplier ingredients:',err);}};const handleAddIngredient=async e=>{e.preventDefault();try{const result=await database.addSupplierIngredient(selectedSupplierId,newIngredient);if(result.success){setShowAddIngredientModal(false);setNewIngredient({ingredient_id:'',price:'',notes:''});// Refresh the supplier's ingredients\nconst refreshResult=await database.getSupplierIngredients(selectedSupplierId);if(refreshResult.success){setSupplierIngredients(prev=>({...prev,[selectedSupplierId]:refreshResult.data}));}}else{console.error('Error adding ingredient:',result.error);}}catch(err){console.error('Error adding ingredient:',err);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Cargando...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 text-center\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"py-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-800\",children:\"Gesti\\xF3n de Proveedores\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddModal(true),className:\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\",children:\"Agregar Proveedor\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-md rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Persona de Contacto\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:suppliers.map(supplier=>{var _supplierIngredients$;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 cursor-pointer\",onClick:()=>handleSupplierClick(supplier.id),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:supplier.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:supplier.contact_person}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:supplier.email}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:supplier.phone}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:supplier.address}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteSupplier(supplier.id);},className:\"text-red-600 hover:text-red-900\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"})})})})]}),expandedSupplier===supplier.id&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{colSpan:\"6\",className:\"px-6 py-4 bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Ingredientes del Proveedor\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedSupplierId(supplier.id);setShowAddIngredientModal(true);},className:\"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 text-sm\",children:\"Agregar Ingrediente\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Ingrediente\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Precio\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"\\xDAltima Actualizaci\\xF3n\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:(_supplierIngredients$=supplierIngredients[supplier.id])===null||_supplierIngredients$===void 0?void 0:_supplierIngredients$.map(ingredient=>{var _ingredient$ingredien;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 whitespace-nowrap text-sm text-gray-900\",children:((_ingredient$ingredien=ingredient.ingredients)===null||_ingredient$ingredien===void 0?void 0:_ingredient$ingredien.name)||'N/A'}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 whitespace-nowrap text-sm text-gray-900\",children:[ingredient.price,\" \\u20AC\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 whitespace-nowrap text-sm text-gray-900\",children:ingredient.notes||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 whitespace-nowrap text-sm text-gray-900\",children:ingredient.updated_at?new Date(ingredient.updated_at).toLocaleDateString():'-'})]},ingredient.id);})})]})})]})})]},supplier.id);})})]})}),showAddModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 bg-white p-6 border-b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Agregar Nuevo Proveedor\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddModal(false),className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddSupplier,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newSupplier.name,onChange:e=>setNewSupplier({...newSupplier,name:e.target.value}),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Persona de Contacto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newSupplier.contact_person,onChange:e=>setNewSupplier({...newSupplier,contact_person:e.target.value}),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:newSupplier.email,onChange:e=>setNewSupplier({...newSupplier,email:e.target.value}),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:newSupplier.phone,onChange:e=>setNewSupplier({...newSupplier,phone:e.target.value}),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newSupplier.address,onChange:e=>setNewSupplier({...newSupplier,address:e.target.value}),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowAddModal(false),className:\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\",children:\"Guardar\"})]})]})})]})}),showAddIngredientModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sticky top-0 bg-white p-6 border-b\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Agregar Nuevo Ingrediente\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddIngredientModal(false),className:\"text-gray-500 hover:text-gray-700\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddIngredient,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Ingrediente\"}),/*#__PURE__*/_jsxs(\"select\",{value:newIngredient.ingredient_id,onChange:e=>setNewIngredient({...newIngredient,ingredient_id:e.target.value}),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccionar ingrediente\"}),ingredients.map(ingredient=>/*#__PURE__*/_jsx(\"option\",{value:ingredient.id,children:ingredient.name},ingredient.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Precio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:newIngredient.price,onChange:e=>setNewIngredient({...newIngredient,price:e.target.value}),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newIngredient.notes,onChange:e=>setNewIngredient({...newIngredient,notes:e.target.value}),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",rows:\"3\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowAddIngredientModal(false),className:\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\",children:\"Guardar\"})]})]})})]})})]});};export default SuppliersManagement;","map":{"version":3,"names":["React","useState","useEffect","database","jsx","_jsx","jsxs","_jsxs","SuppliersManagement","suppliers","setSuppliers","loading","setLoading","error","setError","showAddModal","setShowAddModal","showAddIngredientModal","setShowAddIngredientModal","selectedSupplierId","setSelectedSupplierId","newSupplier","setNewSupplier","name","contact_person","email","phone","address","newIngredient","setNewIngredient","ingredient_id","price","notes","ingredients","setIngredients","expandedSupplier","setExpandedSupplier","supplierIngredients","setSupplierIngredients","fetchSuppliers","fetchIngredients","result","getIngredients","success","data","console","err","getSuppliers","handleAddSupplier","e","preventDefault","createSupplier","handleDeleteSupplier","id","window","confirm","deleteSupplier","handleSupplierClick","supplierId","getSupplierIngredients","prev","handleAddIngredient","addSupplierIngredient","refreshResult","className","children","onClick","map","supplier","_supplierIngredients$","Fragment","stopPropagation","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","colSpan","ingredient","_ingredient$ingredien","updated_at","Date","toLocaleDateString","onSubmit","type","value","onChange","target","required","step","rows"],"sources":["C:/xampp/htdocs/GestorOficial/src/components/SuppliersManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { database } from '../config/supabase';\n\nconst SuppliersManagement = () => {\n  const [suppliers, setSuppliers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showAddIngredientModal, setShowAddIngredientModal] = useState(false);\n  const [selectedSupplierId, setSelectedSupplierId] = useState(null);\n  const [newSupplier, setNewSupplier] = useState({\n    name: '',\n    contact_person: '',\n    email: '',\n    phone: '',\n    address: ''\n  });\n  const [newIngredient, setNewIngredient] = useState({\n    ingredient_id: '',\n    price: '',\n    notes: ''\n  });\n  const [ingredients, setIngredients] = useState([]);\n  const [expandedSupplier, setExpandedSupplier] = useState(null);\n  const [supplierIngredients, setSupplierIngredients] = useState({});\n\n  useEffect(() => {\n    fetchSuppliers();\n    fetchIngredients();\n  }, []);\n\n  const fetchIngredients = async () => {\n    try {\n      const result = await database.getIngredients();\n      if (result.success) {\n        setIngredients(result.data);\n      } else {\n        console.error('Error fetching ingredients:', result.error);\n      }\n    } catch (err) {\n      console.error('Error fetching ingredients:', err);\n    }\n  };\n\n  const fetchSuppliers = async () => {\n    try {\n      setLoading(true);\n      const result = await database.getSuppliers();\n      if (result.success) {\n        setSuppliers(result.data);\n        setError(null);\n      } else {\n        setError('Error al cargar los proveedores');\n        console.error('Error fetching suppliers:', result.error);\n      }\n    } catch (err) {\n      setError('Error al cargar los proveedores');\n      console.error('Error fetching suppliers:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddSupplier = async (e) => {\n    e.preventDefault();\n    try {\n      const result = await database.createSupplier(newSupplier);\n      if (result.success) {\n        setShowAddModal(false);\n        setNewSupplier({\n          name: '',\n          contact_person: '',\n          email: '',\n          phone: '',\n          address: ''\n        });\n        fetchSuppliers();\n      } else {\n        console.error('Error adding supplier:', result.error);\n      }\n    } catch (err) {\n      console.error('Error adding supplier:', err);\n    }\n  };\n\n  const handleDeleteSupplier = async (id) => {\n    if (window.confirm('¿Estás seguro de que deseas eliminar este proveedor?')) {\n      try {\n        const result = await database.deleteSupplier(id);\n        if (result.success) {\n          fetchSuppliers();\n        } else {\n          console.error('Error deleting supplier:', result.error);\n        }\n      } catch (err) {\n        console.error('Error deleting supplier:', err);\n      }\n    }\n  };\n\n  const handleSupplierClick = async (supplierId) => {\n    if (expandedSupplier === supplierId) {\n      setExpandedSupplier(null);\n      return;\n    }\n\n    try {\n      const result = await database.getSupplierIngredients(supplierId);\n      if (result.success) {\n        setSupplierIngredients(prev => ({\n          ...prev,\n          [supplierId]: result.data\n        }));\n        setExpandedSupplier(supplierId);\n      } else {\n        console.error('Error fetching supplier ingredients:', result.error);\n      }\n    } catch (err) {\n      console.error('Error fetching supplier ingredients:', err);\n    }\n  };\n\n  const handleAddIngredient = async (e) => {\n    e.preventDefault();\n    try {\n      const result = await database.addSupplierIngredient(selectedSupplierId, newIngredient);\n      if (result.success) {\n        setShowAddIngredientModal(false);\n        setNewIngredient({\n          ingredient_id: '',\n          price: '',\n          notes: ''\n        });\n        // Refresh the supplier's ingredients\n        const refreshResult = await database.getSupplierIngredients(selectedSupplierId);\n        if (refreshResult.success) {\n          setSupplierIngredients(prev => ({\n            ...prev,\n            [selectedSupplierId]: refreshResult.data\n          }));\n        }\n      } else {\n        console.error('Error adding ingredient:', result.error);\n      }\n    } catch (err) {\n      console.error('Error adding ingredient:', err);\n    }\n  };\n\n  if (loading) return <div className=\"text-center\">Cargando...</div>;\n  if (error) return <div className=\"text-red-500 text-center\">{error}</div>;\n\n  return (\n    <div className=\"py-2\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-lg font-semibold text-gray-800\">Gestión de Proveedores</h2>\n        <button\n          onClick={() => setShowAddModal(true)}\n          className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\n        >\n          Agregar Proveedor\n        </button>\n      </div>\n\n      {/* Tabla de Proveedores */}\n      <div className=\"bg-white shadow-md rounded-lg overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Nombre\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Persona de Contacto\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Email\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Teléfono\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Dirección\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Acciones\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {suppliers.map((supplier) => (\n              <React.Fragment key={supplier.id}>\n                <tr \n                  className=\"hover:bg-gray-50 cursor-pointer\"\n                  onClick={() => handleSupplierClick(supplier.id)}\n                >\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {supplier.name}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {supplier.contact_person}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {supplier.email}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {supplier.phone}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {supplier.address}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleDeleteSupplier(supplier.id);\n                      }}\n                      className=\"text-red-600 hover:text-red-900\"\n                    >\n                      <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                      </svg>\n                    </button>\n                  </td>\n                </tr>\n                {expandedSupplier === supplier.id && (\n                  <tr>\n                    <td colSpan=\"6\" className=\"px-6 py-4 bg-gray-50\">\n                      <div className=\"flex justify-between items-center mb-4\">\n                        <h3 className=\"text-lg font-semibold\">Ingredientes del Proveedor</h3>\n                        <button\n                          onClick={() => {\n                            setSelectedSupplierId(supplier.id);\n                            setShowAddIngredientModal(true);\n                          }}\n                          className=\"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700 text-sm\"\n                        >\n                          Agregar Ingrediente\n                        </button>\n                      </div>\n                      <div className=\"overflow-x-auto\">\n                        <table className=\"min-w-full divide-y divide-gray-200\">\n                          <thead className=\"bg-gray-100\">\n                            <tr>\n                              <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Ingrediente\n                              </th>\n                              <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Precio\n                              </th>\n                              <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Descripción\n                              </th>\n                              <th className=\"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Última Actualización\n                              </th>\n                            </tr>\n                          </thead>\n                          <tbody className=\"bg-white divide-y divide-gray-200\">\n                            {supplierIngredients[supplier.id]?.map((ingredient) => (\n                              <tr key={ingredient.id}>\n                                <td className=\"px-4 py-2 whitespace-nowrap text-sm text-gray-900\">\n                                  {ingredient.ingredients?.name || 'N/A'}\n                                </td>\n                                <td className=\"px-4 py-2 whitespace-nowrap text-sm text-gray-900\">\n                                  {ingredient.price} €\n                                </td>\n                                <td className=\"px-4 py-2 whitespace-nowrap text-sm text-gray-900\">\n                                  {ingredient.notes || '-'}\n                                </td>\n                                <td className=\"px-4 py-2 whitespace-nowrap text-sm text-gray-900\">\n                                  {ingredient.updated_at ? new Date(ingredient.updated_at).toLocaleDateString() : '-'}\n                                </td>\n                              </tr>\n                            ))}\n                          </tbody>\n                        </table>\n                      </div>\n                    </td>\n                  </tr>\n                )}\n              </React.Fragment>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Modal para agregar proveedor */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto\">\n            <div className=\"sticky top-0 bg-white p-6 border-b\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-xl font-semibold\">Agregar Nuevo Proveedor</h2>\n                <button\n                  onClick={() => setShowAddModal(false)}\n                  className=\"text-gray-500 hover:text-gray-700\"\n                >\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n            <div className=\"p-6\">\n              <form onSubmit={handleAddSupplier} className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Nombre</label>\n                    <input\n                      type=\"text\"\n                      value={newSupplier.name}\n                      onChange={(e) => setNewSupplier({ ...newSupplier, name: e.target.value })}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Persona de Contacto</label>\n                    <input\n                      type=\"text\"\n                      value={newSupplier.contact_person}\n                      onChange={(e) => setNewSupplier({ ...newSupplier, contact_person: e.target.value })}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Email</label>\n                    <input\n                      type=\"email\"\n                      value={newSupplier.email}\n                      onChange={(e) => setNewSupplier({ ...newSupplier, email: e.target.value })}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Teléfono</label>\n                    <input\n                      type=\"tel\"\n                      value={newSupplier.phone}\n                      onChange={(e) => setNewSupplier({ ...newSupplier, phone: e.target.value })}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Dirección</label>\n                    <input\n                      type=\"text\"\n                      value={newSupplier.address}\n                      onChange={(e) => setNewSupplier({ ...newSupplier, address: e.target.value })}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"flex justify-center space-x-3 mt-6\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowAddModal(false)}\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\"\n                  >\n                    Guardar\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Modal para agregar ingrediente */}\n      {showAddIngredientModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto\">\n            <div className=\"sticky top-0 bg-white p-6 border-b\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-xl font-semibold\">Agregar Nuevo Ingrediente</h2>\n                <button\n                  onClick={() => setShowAddIngredientModal(false)}\n                  className=\"text-gray-500 hover:text-gray-700\"\n                >\n                  <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n            <div className=\"p-6\">\n              <form onSubmit={handleAddIngredient} className=\"space-y-4\">\n                <div className=\"grid grid-cols-1 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Ingrediente</label>\n                    <select\n                      value={newIngredient.ingredient_id}\n                      onChange={(e) => setNewIngredient({ ...newIngredient, ingredient_id: e.target.value })}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                      required\n                    >\n                      <option value=\"\">Seleccionar ingrediente</option>\n                      {ingredients.map((ingredient) => (\n                        <option key={ingredient.id} value={ingredient.id}>\n                          {ingredient.name}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Precio</label>\n                    <input\n                      type=\"number\"\n                      step=\"0.01\"\n                      value={newIngredient.price}\n                      onChange={(e) => setNewIngredient({ ...newIngredient, price: e.target.value })}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Descripción</label>\n                    <textarea\n                      value={newIngredient.notes}\n                      onChange={(e) => setNewIngredient({ ...newIngredient, notes: e.target.value })}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                      rows=\"3\"\n                    />\n                  </div>\n                </div>\n\n                <div className=\"flex justify-center space-x-3 mt-6\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowAddIngredientModal(false)}\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n                  >\n                    Cancelar\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\"\n                  >\n                    Guardar\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SuppliersManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}